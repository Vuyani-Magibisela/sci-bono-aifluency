<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile - AI Fluency</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="profile-edit-main">
        <div class="profile-edit-container">
            <!-- Header with completion -->
            <div class="profile-edit-header">
                <h1><i class="fas fa-user-edit"></i> Edit Profile</h1>
                <div class="profile-completion">
                    <span>Profile Completeness: <strong id="completion-percentage">0%</strong></span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="completion-progress" style="width: 0%;"></div>
                    </div>
                </div>
            </div>

            <!-- Profile Picture Section -->
            <section class="edit-section">
                <h2><i class="fas fa-image"></i> Profile Picture</h2>
                <div class="avatar-upload-area">
                    <div class="current-avatar" id="current-avatar">
                        <span id="avatar-initials">U</span>
                        <img id="avatar-preview" style="display: none;">
                    </div>
                    <div class="avatar-controls">
                        <button class="btn-secondary" id="upload-avatar-btn">
                            <i class="fas fa-upload"></i> Upload New Photo
                        </button>
                        <button class="btn-danger" id="remove-avatar-btn" style="display: none;">
                            <i class="fas fa-trash"></i> Remove
                        </button>
                        <input type="file" id="avatar-input" accept="image/*" style="display: none;">
                        <p class="help-text">JPG, PNG or GIF (max 2MB)</p>
                    </div>
                </div>
            </section>

            <!-- Basic Information -->
            <section class="edit-section">
                <h2><i class="fas fa-user"></i> Basic Information</h2>
                <form id="profile-form">
                    <div class="form-group">
                        <label for="headline">Headline <span class="optional">(optional)</span></label>
                        <input
                            type="text"
                            id="headline"
                            name="headline"
                            placeholder="e.g., AI Enthusiast & High School Student"
                            maxlength="255"
                        >
                        <small class="char-count"><span id="headline-count">0</span>/255</small>
                    </div>

                    <div class="form-group">
                        <label for="bio">About Me <span class="optional">(optional)</span></label>
                        <textarea
                            id="bio"
                            name="bio"
                            rows="6"
                            placeholder="Tell others about yourself, your interests in AI, and your learning goals..."
                            maxlength="5000"
                        ></textarea>
                        <small class="char-count"><span id="bio-count">0</span>/5000</small>
                    </div>

                    <div class="form-group">
                        <label for="location">Location <span class="optional">(optional)</span></label>
                        <input
                            type="text"
                            id="location"
                            name="location"
                            placeholder="e.g., Johannesburg, South Africa"
                            maxlength="255"
                        >
                    </div>
                </form>
            </section>

            <!-- Social Links -->
            <section class="edit-section">
                <h2><i class="fas fa-link"></i> Social Links</h2>
                <form id="social-links-form">
                    <div class="form-group">
                        <label for="website_url">
                            <i class="fas fa-globe"></i> Website
                        </label>
                        <input
                            type="url"
                            id="website_url"
                            name="website_url"
                            placeholder="https://yourwebsite.com"
                        >
                    </div>

                    <div class="form-group">
                        <label for="github_url">
                            <i class="fab fa-github"></i> GitHub
                        </label>
                        <input
                            type="url"
                            id="github_url"
                            name="github_url"
                            placeholder="https://github.com/username"
                        >
                    </div>

                    <div class="form-group">
                        <label for="linkedin_url">
                            <i class="fab fa-linkedin"></i> LinkedIn
                        </label>
                        <input
                            type="url"
                            id="linkedin_url"
                            name="linkedin_url"
                            placeholder="https://linkedin.com/in/username"
                        >
                    </div>

                    <div class="form-group">
                        <label for="twitter_url">
                            <i class="fab fa-twitter"></i> Twitter/X
                        </label>
                        <input
                            type="url"
                            id="twitter_url"
                            name="twitter_url"
                            placeholder="https://twitter.com/username"
                        >
                    </div>
                </form>
            </section>

            <!-- Privacy Settings -->
            <section class="edit-section">
                <h2><i class="fas fa-shield-alt"></i> Privacy Settings</h2>
                <form id="privacy-form">
                    <div class="privacy-toggle">
                        <label class="toggle-label">
                            <input type="checkbox" id="is_public_profile" name="is_public_profile" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">
                                <strong>Public Profile</strong>
                                <small>Allow others to view your profile</small>
                            </span>
                        </label>
                    </div>

                    <div class="privacy-toggle">
                        <label class="toggle-label">
                            <input type="checkbox" id="show_email" name="show_email">
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">
                                <strong>Show Email Address</strong>
                                <small>Display your email on your public profile</small>
                            </span>
                        </label>
                    </div>

                    <div class="privacy-toggle">
                        <label class="toggle-label">
                            <input type="checkbox" id="show_achievements" name="show_achievements" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">
                                <strong>Show Achievements</strong>
                                <small>Display your badges and accomplishments</small>
                            </span>
                        </label>
                    </div>

                    <div class="privacy-toggle">
                        <label class="toggle-label">
                            <input type="checkbox" id="show_certificates" name="show_certificates" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-text">
                                <strong>Show Certificates</strong>
                                <small>Display your earned certificates</small>
                            </span>
                        </label>
                    </div>
                </form>
            </section>

            <!-- Action Buttons -->
            <div class="profile-actions">
                <button class="btn-primary" id="save-profile-btn">
                    <i class="fas fa-save"></i> Save Changes
                </button>
                <a href="profile.html" class="btn-secondary">
                    <i class="fas fa-times"></i> Cancel
                </a>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2026 AI Fluency Course - Sci-Bono Discovery Centre</p>
        </div>
    </footer>

    <script src="js/storage.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/header-template.js"></script>
    <script src="js/profile-edit.js"></script>
</body>
</html>
